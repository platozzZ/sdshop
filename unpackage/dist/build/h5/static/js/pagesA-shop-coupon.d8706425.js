(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-shop-coupon"],{"0451":function(t,e,a){"use strict";a.r(e);var i=a("07c3"),o=a("44a8");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("634f");var c,s=a("f0c5"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"13c0e72a",null,!1,i["a"],c);e["default"]=r.exports},"07c3":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("lktauthorize",{ref:"lktAuthorizeComp",on:{pChangeLoginStatus:function(e){arguments[0]=e=t.$handleEvent(e),t.changeLoginStatus.apply(void 0,arguments)}}}),a("heads",{attrs:{title:t.title}}),t.loopStatu?a("div",{staticClass:"mycoupon_bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._mycoupon()}}},[a("span",[t._v("去我的优惠券")])]):t._e(),t.list?a("div",[a("ul",{staticClass:"coupon_ul"},t._l(t.list,(function(e,i){return a("li",{key:i,staticClass:"coupon_li",class:{active_background:t.isNone[i]}},[a("img",{staticClass:"bg_img",attrs:{src:t.isNone[i]?t.coupon_bg1:t.coupon_bg}}),""==e.point||"去使用"==e.point||t.isNone[i]?a("img",{staticClass:"coupon_status",attrs:{src:t.isNone[i]?t.coupon_no:t.coupon_on}}):t._e(),a("div",{staticClass:"coupon_li_data",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t._receive(i,e.id,e.point,e.url)}}},[a("div",{staticClass:"coupon_left",class:{active_border:t.isNone[i]}},[a("p",{staticClass:"coupon_p"},[t._v(t._s(e.name))]),a("div",{staticClass:"coupon_price",class:{active_color:t.isNone[i]}},[2==e.activity_type?a("div",{staticClass:"coupon_price_div"},[a("span",{staticClass:"coupon_price_span"},[t._v("￥")]),a("span",{staticClass:"coupon_price_money"},[t._v(t._s(e.money))]),a("span",{staticClass:"coupon_t",class:{active_color:t.isNone[i]}},[t._v(t._s(e.limit))])]):3==e.activity_type?a("div",{staticClass:"coupon_price_div color_ff3"},[a("span",{staticClass:"coupon_price_money"},[t._v(t._s(e.discount)),a("span",{staticClass:"font_28"},[t._v("折")])]),a("span",{staticClass:"coupon_t",class:{active_color:t.isNone[i]}},[t._v(t._s(e.limit))])]):1==e.activity_type?a("div",{staticClass:"color_ff3"},[a("span",{staticClass:"coupon_t ml_0",class:{active_color:t.isNone[i]}},[t._v(t._s(e.limit))])]):t._e()])]),e.point?a("div",{staticClass:"coupon_right"},[a("v-uni-button",{staticClass:"coupon_but",class:{coupon_no:t.isNone[i],coupon_gous:"去使用"==e.point,coupon_red:"立即领取"==e.point},attrs:{type:"button"}},[a("span",{ref:"point",refInFor:!0},[t._v(t._s(e.point))])])],1):t._e()])])})),0)]):t._e(),t.list&&0==t.list.length?a("v-uni-view",{staticClass:"p-coupon-none p-flex p-flex-direction p-justify-center p-align-center"},[a("v-uni-image",{attrs:{src:t.noCoupon}}),a("v-uni-view",{},[t._v("目前没有可以领取的优惠券哦~")])],1):t._e()],1)},n=[]},"2d87":function(t,e,a){"use strict";var i=a("4ea4");a("c975"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(a("4eb3")),n=(a("7d99"),{data:function(){return{returnR:"",back:"",title:"领券中心",access_id:"",list:!1,receive_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/lingqu2x.png",noreceive_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/qiangguang2x.png",back_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/back2x.png",huiquan_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/huiquan2x.png",coupon_on:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/coupon/coupon_on.png",coupon_no:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/coupon_no.png",coupon_bg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/coupon_bg.png",coupon_bg1:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/coupon_bg1.png",fastTap:!0,frompage:"",noCoupon:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/noCoupon.png",loopStatu:!0,isNone:[]}},onLoad:function(t){t.loop&&(this.loopStatu=!1)},onShow:function(){var t=this;t.$nextTick((function(){t.access_id=uni.getStorageSync("access_id")?uni.getStorageSync("access_id"):t.$store.state.access_id,t.list||uni.showLoading({title:"加载中...",mask:!0}),t._axios()}))},methods:{changeLoginStatus:function(){var t=this;t.access_id=t.$store.state.access_id,t._axios()},_mycoupon:function(){var t=this;t.$refs.lktAuthorizeComp.handleAfterAuth(t,"../../pages/login/login?landing_code=coupon",(function(){uni.navigateTo({url:"../../pagesB/coupon/mycoupon?loop=false"})}))},_axios:function(){var t=this,e=this,a={module:"app",action:"Coupon",app:"index",access_id:this.access_id};uni.request({data:a,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(a){uni.hideLoading();var i=a.data.list;if(e.list=i,e.fastTap=!0,i&&i.length){for(var o=[],n=0;n<i.length;n++)o.push(!1),"已抢光"==i[n].point&&(o[n]=!0);t.isNone=o}},error:function(t){console.log(t)}})},_receive:function(t,e,a,i){var o=this;if("立即领取"==a){if(!this.fastTap)return;if(this.fastTap=!1,!this.access_id)return uni.showToast({title:"未登录，请先登录",duration:1500,icon:"none"}),void setTimeout((function(){uni.navigateTo({url:"../../pages/login/login?landing_code=coupon"})}),1500);var n={module:"app",action:"Coupon",app:"receive",access_id:this.access_id,id:e};uni.request({data:n,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){console.log(222),console.log(t);var e=t.data.code;200==e?(uni.showToast({title:"领取成功",duration:1500,icon:"none"}),setTimeout((function(){o._axios()}),1500)):404==e?(uni.showToast({title:t.data.message,duration:1500,icon:"none"}),setTimeout((function(){uni.navigateTo({url:"../../pages/login/login?landing_code=coupon"})}),1500)):(uni.showToast({title:t.data.message,duration:1500,icon:"none"}),setTimeout((function(){o._axios()}),1500))},error:function(t){o.fastTap=!0}})}else if("去使用"==a){if(!this.fastTap)return;this.fastTap=!1,i.indexOf("tabBar")>0?uni.switchTab({url:i}):uni.navigateTo({url:i})}}},components:{heads:o.default}});e.default=n},"44a8":function(t,e,a){"use strict";a.r(e);var i=a("2d87"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},"4eb3":function(t,e,a){"use strict";a.r(e);var i=a("7afc"),o=a("f60a");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("8918");var c,s=a("f0c5"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"4b3c7e46",null,!1,i["a"],c);e["default"]=r.exports},"634f":function(t,e,a){"use strict";var i=a("c375"),o=a.n(i);o.a},"7afc":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:"display:flex;height:"+t.BoxHeight},[a("div",{staticClass:"head",class:{head_w:"1"==t.ishead_w,border:1==t.border}},[a("div",{class:{white:!t.navWhite},style:{height:t.halfWidth}}),a("div",{staticClass:"header"},[t.flag&&!t.returnFlag?a("div",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._back1.apply(void 0,arguments)}}},["1"==t.ishead_w?a("img",{attrs:{src:t.back1}}):a("img",{attrs:{src:t.back}})]):t._e(),t.flag||t.returnFlag?t._e():a("img",{staticClass:"header_img",attrs:{src:t.bback},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._back1.apply(void 0,arguments)}}}),a("p",{class:{title_w:"1"==t.ishead_w}},[t._v(t._s(t.title))])])])])},n=[]},"7d99":function(t,e,a){"use strict";function i(t,e){uni.setStorage({key:t,data:e,success:function(){console.log("setSuccess")}})}function o(t){var e;return uni.getStorage({key:t,success:function(t){e=t.data,console.log("getSuccess")}}),e}function n(t){uni.removeStorage({key:t,success:function(t){console.log("removeSuccess")}})}Object.defineProperty(e,"__esModule",{value:!0}),e.setStorage=i,e.getStorage=o,e.removeStorage=n},8918:function(t,e,a){"use strict";var i=a("f6b3"),o=a.n(i);o.a},"89fa":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".border[data-v-4b3c7e46]{border-bottom:0 solid #eee!important}.head[data-v-4b3c7e46]{position:fixed;left:0;top:0;background-color:#fff!important;width:100%;z-index:9999}.head .white[data-v-4b3c7e46]{background:#fff}.header[data-v-4b3c7e46]{background-color:#fff;width:100%;height:%?88?%;border-bottom:1px solid #eee;color:#020202;font-size:%?40?%}.header img[data-v-4b3c7e46]{position:absolute;top:%?26?%;left:%?20?%;width:%?24?%;height:%?36?%}.header a[data-v-4b3c7e46]{position:absolute;width:%?36?%;height:%?36?%;border-radius:50%}.header_img[data-v-4b3c7e46]{top:%?46?%!important;left:%?10?%!important;width:%?64?%!important;height:%?64?%!important}.header p[data-v-4b3c7e46]{text-align:center;width:100%;height:100%;line-height:%?88?%;color:#020202;font-size:%?32?%}.header>div[data-v-4b3c7e46]{height:%?88?%;width:%?160?%;position:absolute;z-index:9999}.head_w[data-v-4b3c7e46]{background:transparent;border-bottom:0}.title_w[data-v-4b3c7e46]{color:#fff!important}",""]),t.exports=e},b710:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".container[data-v-13c0e72a]{min-height:100vh}.coupon_but[data-v-13c0e72a]{width:%?140?%;height:%?50?%;border-radius:13px;font-size:%?28?%;padding:0;border:0;margin:0;outline:0}.coupon_but[data-v-13c0e72a]::after{border:0}.mycoupon_head[data-v-13c0e72a],.mycoupon_tab[data-v-13c0e72a],.mycoupon_bottom[data-v-13c0e72a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.mycoupon_bottom[data-v-13c0e72a]{width:100%;height:%?98?%;background-color:#020202;position:fixed;bottom:0;left:0;color:#fff;font-size:%?30?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;z-index:9999}.mycoupon_head[data-v-13c0e72a]{background-color:#fff;position:fixed;top:0;left:0;width:100%;height:%?88?%;z-index:40;color:#020202;font-size:%?40?%;padding:0 %?30?%}.mycoupon_head img[data-v-13c0e72a]{width:%?24?%;height:%?36?%}.coupon_price[data-v-13c0e72a]{color:#f33;font-size:%?48?%;padding-top:%?18?%}.coupon_img[data-v-13c0e72a]{width:%?145?%;height:%?145?%;position:absolute;top:%?-30?%;right:%?-23?%}.coupon_li[data-v-13c0e72a]{position:relative;height:%?128?%;margin-bottom:%?20?%;box-shadow:1px 1px 1px %?4?% #eee;padding:%?20?%;box-shadow:none}.img_zin1[data-v-13c0e72a]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;width:100%;height:100%;padding:0}.coupon_left[data-v-13c0e72a]{width:75%;text-align:left;margin:0;border-right:none;padding-right:%?30?%;z-index:9;height:%?168?%;padding-left:%?10?%;padding:%?29?% %?10?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.coupon_right[data-v-13c0e72a]{width:25%;text-align:right;margin:0;z-index:9;height:%?168?%;padding-left:%?22?%}.coupon_status[data-v-13c0e72a]{z-index:9;width:%?100?%;height:%?100?%;position:absolute;right:0;top:0}.coupon_p[data-v-13c0e72a]{font-size:%?30?%;font-weight:700}.coupon_t[data-v-13c0e72a]{color:#f33;border:1px solid #f33;height:%?40?%;line-height:%?40?%;padding:0 %?8?%;margin-left:%?14?%;border-radius:2px}.coupon_gous[data-v-13c0e72a]{background-color:#fff;border:1px solid #f44!important;color:#f44}.coupon_no[data-v-13c0e72a]{\n\t\t/* background-color: #b8b8b896; */background-color:#ccc}.coupon_red[data-v-13c0e72a]{background-color:#f44}uni-button[data-v-13c0e72a]:after{border:0}.coupon_ul[data-v-13c0e72a]{padding-bottom:%?120?%}.active_color[data-v-13c0e72a]{color:#b8b8b8!important;border-color:#b8b8b8!important}.bg_img[data-v-13c0e72a]{width:100%;height:100%;position:absolute;left:0}.coupon_li_data[data-v-13c0e72a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%}.coupon_price_div[data-v-13c0e72a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;height:20px}.coupon_price_span[data-v-13c0e72a]{font-weight:400;font-size:%?28?%;padding-top:%?16?%}.coupon_price_money[data-v-13c0e72a]{font-weight:700;font-size:%?48?%}.color_ff3[data-v-13c0e72a]{color:#f33}.font_28[data-v-13c0e72a]{font-size:%?28?%}.ml_0[data-v-13c0e72a]{margin-left:0!important}uni-view[data-v-13c0e72a],\nuni-scroll-view[data-v-13c0e72a],\nuni-swiper[data-v-13c0e72a],\nuni-button[data-v-13c0e72a],\nuni-input[data-v-13c0e72a],\nuni-textarea[data-v-13c0e72a],\nuni-label[data-v-13c0e72a],\nuni-navigator[data-v-13c0e72a],\nuni-image[data-v-13c0e72a]{box-sizing:border-box}.p-flex[data-v-13c0e72a]{display:-webkit-box;display:-webkit-flex;display:flex}.p-flex-sub[data-v-13c0e72a]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.p-flex-direction[data-v-13c0e72a]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.p-flex-wrap[data-v-13c0e72a]{-webkit-flex-wrap:wrap;flex-wrap:wrap}.p-align-start[data-v-13c0e72a]{-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.p-align-end[data-v-13c0e72a]{-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end}.p-align-center[data-v-13c0e72a]{-webkit-box-align:center;-webkit-align-items:center;align-items:center}.p-align-stretch[data-v-13c0e72a]{-webkit-box-align:stretch;-webkit-align-items:stretch;align-items:stretch}.p-self-start[data-v-13c0e72a]{-webkit-align-self:flex-start;align-self:flex-start}.p-self-center[data-v-13c0e72a]{-webkit-align-self:flex-center;align-self:flex-center}.p-self-end[data-v-13c0e72a]{-webkit-align-self:flex-end;align-self:flex-end}.p-self-stretch[data-v-13c0e72a]{-webkit-align-self:stretch;align-self:stretch}.p-align-stretch[data-v-13c0e72a]{-webkit-box-align:stretch;-webkit-align-items:stretch;align-items:stretch}.p-justify-start[data-v-13c0e72a]{-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.p-justify-end[data-v-13c0e72a]{-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.p-justify-center[data-v-13c0e72a]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.p-justify-between[data-v-13c0e72a]{-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.p-justify-around[data-v-13c0e72a]{-webkit-justify-content:space-around;justify-content:space-around}.p-text-black[data-v-13c0e72a]{color:#333}.p-text-cut[data-v-13c0e72a]{width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.p-response[data-v-13c0e72a]{width:100%}.p-coupon-none[data-v-13c0e72a]{position:fixed;top:30%;left:0;width:100%;font-size:%?30?%;color:#666}.p-coupon-none uni-image[data-v-13c0e72a]{width:%?240?%;height:%?240?%;margin-bottom:%?30?%}.mycoupon_bottom[data-v-13c0e72a]{bottom:calc(constant(safe-area-inset-bottom) / 2);bottom:calc(env(safe-area-inset-bottom) / 2)}",""]),t.exports=e},c375:function(t,e,a){var i=a("b710");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("5ecb84fa",i,!0,{sourceMap:!1,shadowMode:!1})},f60a:function(t,e,a){"use strict";a.r(e);var i=a("f894"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},f6b3:function(t,e,a){var i=a("89fa");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("45e446d7",i,!0,{sourceMap:!1,shadowMode:!1})},f894:function(t,e,a){"use strict";var i=a("4ea4");a("a9e3"),a("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(a("5530")),n=a("2f62"),c=a("7d99"),s={data:function(){return{flag:!0,bback:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/bback.png",back:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/back2x.png",back1:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/back2x.png"}},computed:{halfWidth:function(){var t=(0,c.getStorage)("data_height")?(0,c.getStorage)("data_height"):this.$store.state.data_height,e=parseInt(t);return e+"px"},BoxHeight:function(){var t=(0,c.getStorage)("data_height")?(0,c.getStorage)("data_height"):this.$store.state.data_height,e=0,a=parseInt(t)+uni.upx2px(88);return e=a&&a>0?a:uni.upx2px(88),e+"px"}},onLoad:function(t){console.log("header"),console.log(this.returnR)},props:["title","returnR","navWhite","returnFlag","border","ishead_w"],methods:(0,o.default)((0,o.default)({},(0,n.mapMutations)({status:"data_height"})),{},{_back:function(){this.flag=!1,console.log(this.returnR)},_back1:function(){switch(this.flag=!1,Number(this.returnR)){case 1:uni.navigateBack({delta:2});break;case 2:uni.switchTab({url:"../tabBar/shoppingCart"});break;case 3:uni.redirectTo({url:"../login/login.vue"});break;case 4:uni.navigateBack({delta:3});break;case 5:uni.redirectTo({url:"../order/myOrder"});break;case 6:uni.switchTab({url:"../../pages/tabBar/home"});break;case 7:uni.switchTab({url:"../../pages/tabBar/my"});break;case 8:uni.switchTab({url:"../tabBar/my"});break;case 9:uni.redirectTo({url:"/pagesA/myStore/myStore"});break;default:getCurrentPages().length>1?uni.navigateBack({delta:1}):uni.switchTab({url:"/pages/tabBar/home"})}this.flag=!0}})};e.default=s}}]);